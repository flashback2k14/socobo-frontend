<script src="lib/socobo-grocery.js"></script>

<!--
The following custom properties and mixins are available for styling:

Custom property | Description | Default
----------------|-------------|----------

@demo demo/socobo-grocery-list/demo.html
-->
<dom-module id="socobo-grocery-list">
  <template>
    <style>
      :host {
        display: block;
        font-family: 'Roboto', 'Helvetica Neue', Helvetica, Arial, sans-serif;
      }
      .container {
        @apply(--layout-vertical);
        width: 100%;
        height: 100%;
      }

      .style-paper-tabs {
        --paper-tabs-selection-bar-color: var(--socobo-grocery-list-paper-tab-ink, --accent-color);
      }
      .style-paper-tab {
        --paper-tab: {
          background: var(--socobo-grocery-list-paper-tab-bg, --default-primary-color);
          color: var(--socobo-grocery-list-paper-tab-color, --text-primary-color);
        };
        --paper-tab-ink: var(--socobo-grocery-list-paper-tab-ink, --accent-color);
      }

      .style-content-container {
        margin-top: 20px;
      }
      .style-no-recipe {
        display: block;
        font-size: 40px;
        text-align: center;
        font-weight: 100;
        color: var(--socobo-recipe-style-icon-text-color, --default-primary-color);
        line-height: 80px;
      }
    </style>

    <div class="container">
      <socobo-element-search
        elevation-height="0"
        hide-search-input
        hide-search-button
        on-check-all-items="_handleCheckAllItems"
        on-uncheck-all-items="_handleUncheckAllItems"
        on-changed-search-query="_handleChangedSearchQuery"
        on-add-to-grocery-list="_handleAddToGroceryList">
      </socobo-element-search>
      <paper-tabs id="tabsList" class="style-paper-tabs" selected="{{selected}}">
        <paper-tab id="tabActive" class="style-paper-tab">Active</paper-tab>
        <paper-tab id="tabArchive" class="style-paper-tab">Archive</paper-tab>
      </paper-tabs>
      <iron-pages selected="{{selected}}">
        <div class="style-content-container">
          <template is="dom-if" if="[[!groceryItems.length]]">
            <p class="style-no-recipe">No Grocery Items available.</p>
          </template>
          <template is="dom-repeat" items="{{groceryItems}}">
            <socobo-element-list-item
              obj="{{item}}"
              on-check="_handleCheck"
              on-uncheck="_handleUncheck"
              on-edit_request="_handleEditRequest"
              on-delete_request="_handleDeleteRequest">
            </socobo-element-list-item>
          </template>
        </div>
        <div class="style-content-container">
          <template is="dom-if" if="[[!groceryArchiveItems.length]]">
            <p class="style-no-recipe">No Grocery Items in Archive.</p>
          </template>
        </div>
      </iron-pages>
    </div>
    <!-- Notification-->
    <paper-toast id="infoGroceryList" duration="2000"></paper-toast>
  </template>

  <script>
    (function() {
      Polymer({
        is: "socobo-grocery-list",
        /**
         * This Event is fired if...<br/>
         * `Detail`: Object: {} <br/>
         * @event ToDo
         */
        /**
         * Element Properties.
         */
        properties: {
          /**
           * User Login Object
           */
          userLogin: {
            type: Object,
            value: {}
          },
          /**
           * data binding array
           */
          groceryItems: {
            type: Array,
            value: [],
            notify: true
          },
          /**
           * data binding array
           */
          groceryArchiveItems: {
            type: Array,
            value: [],
            notify: true
          },
          /**
           * Tab Routing
           */
          selected: {
            type: Number,
            value: 0
          }
        },

        /**
         * register listeners for changed items
         */
        listeners: {

        },

        /**
         * PUBLIC API
         */
        /**
         * Load Data</br>
         * @method loadData
         */
        loadData: function() {

        },
        /**
         * add items to List from ranking
         * @param items
         * @method addToList
         */
        addToList: function(items) {
          items.forEach(function(item) {
            var i = {
              info : "Test Info",
              desc : item.desc + " - " + item.amount + " " + item.unit
            };
            this.push("groceryItems", i);
          }.bind(this));
        },

        /**
         * PRIVATE API
         */
        /**
         * EVENTS
         */
        _handleCheckAllItems: function(){

        },

        _handleUncheckAllItems: function() {

        },

        _handleChangedSearchQuery: function(searchQuery) {

        },

        _handleAddToGroceryList: function(groceryItem) {

        }
      });
    })();
  </script>
</dom-module>
